<!DOCTYPE html>
<html lang="sk">

<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>Quiz Results - Final Leaderboard</title>
	<link rel="stylesheet" href="/shared/common.css">
	<style>
		html,
		body {
			margin: 0;
			height: 100%;
			width: 100%;
			font-family: Arial, sans-serif;
			background: var(--dark-bg);
			color: white;
			overflow: hidden;
		}

		.stage-container {
			height: 100vh;
			display: flex;
			flex-direction: column;
			padding: 2rem;
		}

		.stage-header {
			display: flex;
			justify-content: space-between;
			align-items: center;
			margin-bottom: 2rem;
		}

		.game-title {
			font-size: 2.5rem;
			font-weight: bold;
		}

		.game-info {
			display: flex;
			gap: 2rem;
			font-size: 1.2rem;
		}

		.info-item {
			padding: 0.5rem 1rem;
			background: rgba(255, 255, 255, 0.1);
			border-radius: 0.5rem;
		}

		.stage-content {
			flex: 1;
			display: flex;
			flex-direction: column;
			gap: 2rem;
		}

		.results-section {
			background: rgba(255, 255, 255, 0.1);
			border-radius: 1rem;
			padding: 2rem;
			flex: 1;
		}

		.section-title {
			font-size: 2rem;
			font-weight: bold;
			margin-bottom: 1.5rem;
			text-align: center;
		}

		.leaderboard {
			display: flex;
			flex-direction: column;
			gap: 1rem;
		}

		.leaderboard-item {
			display: flex;
			justify-content: space-between;
			align-items: center;
			padding: 1rem 1.5rem;
			background: rgba(255, 255, 255, 0.1);
			border-radius: 0.8rem;
			font-size: 1.3rem;
		}

		.leaderboard-item.winner {
			background: linear-gradient(135deg, #ffd700, #ffed4e);
			color: #333;
			font-weight: bold;
		}

		.leaderboard-item.runner-up {
			background: linear-gradient(135deg, #c0c0c0, #e6e6e6);
			color: #333;
		}

		.leaderboard-item.third {
			background: linear-gradient(135deg, #cd7f32, #deb887);
			color: #333;
		}

		.player-rank {
			font-size: 1.5rem;
			font-weight: bold;
			min-width: 3rem;
		}

		.player-name {
			flex: 1;
			text-align: left;
			margin-left: 1rem;
		}

		.player-score {
			font-weight: bold;
		}

		.stage-footer {
			display: flex;
			justify-content: center;
			gap: 2rem;
			margin-top: 2rem;
		}

		.action-button {
			padding: 1rem 2rem;
			font-size: 1.2rem;
			border: none;
			border-radius: 0.5rem;
			cursor: pointer;
			transition: all 0.3s ease;
		}

		.primary-button {
			background: var(--primary-color);
			color: white;
		}

		.primary-button:hover {
			background: var(--primary-hover);
		}

		.secondary-button {
			background: rgba(255, 255, 255, 0.2);
			color: white;
		}

		.secondary-button:hover {
			background: rgba(255, 255, 255, 0.3);
		}

		.empty-state {
			text-align: center;
			padding: 3rem;
			color: rgba(255, 255, 255, 0.7);
		}

		.empty-state-icon {
			font-size: 4rem;
			margin-bottom: 1rem;
		}

		/* Responsive adjustments */
		@media (max-width: 768px) {
			.stage-container {
				padding: 1rem;
			}

			.game-title {
				font-size: 1.8rem;
			}

			.game-info {
				flex-direction: column;
				gap: 0.5rem;
			}

			.leaderboard-item {
				font-size: 1.1rem;
				padding: 0.8rem 1rem;
			}

			.stage-footer {
				flex-direction: column;
				align-items: center;
			}
		}
	</style>
</head>

<body>
	<div class="stage-container">
		<div class="stage-header">
			<h1 class="game-title" id="gameTitle">Kvízová hra</h1>
			<div class="game-info">
				<div class="info-item">
					<span>PIN: </span><span id="gamePin">------</span>
				</div>
				<div class="info-item">
					<span>Hráči: </span><span id="playerCount">0</span>
				</div>
			</div>
		</div>

		<div class="stage-content">
			<div class="results-section">
				<h2 class="section-title">🏆 Finálne výsledky</h2>
				
				<div id="leaderboard" class="leaderboard">
					<!-- Leaderboard items will be populated here -->
				</div>

				<div id="emptyState" class="empty-state" style="display: none;">
					<div class="empty-state-icon">🎮</div>
					<h3>Žiadne výsledky</h3>
					<p>Hra sa ešte neskončila alebo neexistujú žiadni hráči.</p>
				</div>
			</div>
		</div>

		<div class="stage-footer">
			<button id="newGameBtn" class="action-button primary-button">
				🎯 Nová hra
			</button>
			<button id="backToJoinBtn" class="action-button secondary-button">
				🏠 Späť na úvod
			</button>
		</div>
	</div>

	<!-- Message container for notifications -->
	<div id="messageBox"></div>

	<script src="/socket.io/socket.io.js"></script>
	<script type="module" src="/shared/connectionStatus.js"></script>
	<script type="module" src="/stage/stage.js"></script>
</body>

</html>