<!DOCTYPE html>
<html lang="sk">

<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>Quiz Results - Final Leaderboard</title>
	<link rel="stylesheet" href="/shared/common.css">
	<style>
		html,
		body {
			margin: 0;
			height: 100%;
			width: 100%;
			font-family: Arial, sans-serif;
			background: var(--primary-purple);
			color: white;
			overflow: hidden;
		}

		.stage-container {
			height: 100vh;
			display: flex;
			flex-direction: column;
			padding: 1rem;
		}

		.stage-header {
			display: flex;
			justify-content: space-between;
			align-items: center;
			margin-bottom: 1rem;
			padding-bottom: 0.5rem;
			min-height: 80px;
		}

		.stage-pin-display {
			display: flex;
			flex-direction: column;
			align-items: flex-start;
		}

		.stage-pin-code {
			font-size: 1.8rem;
			font-weight: bold;
			color: var(--primary-purple);
			background: white;
			padding: 0.5rem 1rem;
			border-radius: 0.5rem;
			letter-spacing: 0.1rem;
			border: 2px solid white;
			min-width: 120px;
			text-align: center;
		}

		.game-info {
			display: flex;
			flex-direction: column;
			align-items: flex-end;
			gap: 0.5rem;
		}

		.info-item {
			font-size: 1rem;
			color: white;
			background: rgba(255, 255, 255, 0.2);
			padding: 0.5rem 1rem;
			border-radius: 1rem;
			white-space: nowrap;
			font-weight: bold;
		}

		.stage-content {
			flex: 1;
			display: flex;
			flex-direction: column;
			gap: 2rem;
		}

		.results-section {
			background: rgba(255, 255, 255, 0.1);
			border-radius: 1rem;
			padding: 1.5rem 1rem;
			flex: 1;
			display: flex;
			flex-direction: column;
			justify-content: center;
		}

		.section-title {
			font-size: 1.8rem;
			font-weight: bold;
			margin-bottom: 1.5rem;
			text-align: center;
			color: white;
		}

		.top3-leaderboard {
			display: flex;
			flex-direction: column;
			gap: 1rem;
			margin-bottom: 2rem;
		}

		.player-position-message {
			text-align: center;
			font-size: 1.2rem;
			font-weight: bold;
			color: white;
			background: rgba(255, 255, 255, 0.2);
			padding: 1rem;
			border-radius: 0.5rem;
			margin-top: 1rem;
		}

		.top3-item {
			display: flex;
			align-items: center;
			justify-content: space-between;
			padding: 1rem 1.5rem;
			background: white;
			border-radius: 0.75rem;
			font-size: 1.1rem;
			min-height: 60px;
		}

		.top3-item.first {
			background: linear-gradient(135deg, #ffd700, #ffed4e);
			color: #333;
			font-weight: bold;
			border: 3px solid #ffd700;
		}

		.top3-item.second {
			background: linear-gradient(135deg, #c0c0c0, #e6e6e6);
			color: #333;
			font-weight: bold;
		}

		.top3-item.third {
			background: linear-gradient(135deg, #cd7f32, #deb887);
			color: #333;
			font-weight: bold;
		}

		.top3-player-name {
			font-weight: bold;
			font-size: 1.1rem;
			color: var(--primary-purple);
			flex: 1;
			display: flex;
			align-items: center;
			gap: 0.5rem;
		}

		.top3-player-score {
			font-weight: bold;
			color: var(--primary-purple);
			font-size: 1.3rem;
			margin-left: 0.5rem;
		}

		.stage-footer {
			display: flex;
			justify-content: center;
			gap: 2rem;
			margin-top: 2rem;
		}

		.action-button {
			padding: 1rem 2rem;
			font-size: 1.2rem;
			border: none;
			border-radius: 0.5rem;
			cursor: pointer;
			transition: all 0.3s ease;
		}

		.primary-button {
			background: var(--primary-color);
			color: white;
		}

		.primary-button:hover {
			background: var(--primary-hover);
		}

		.secondary-button {
			background: rgba(255, 255, 255, 0.2);
			color: white;
		}

		.secondary-button:hover {
			background: rgba(255, 255, 255, 0.3);
		}

		.empty-state {
			text-align: center;
			padding: 3rem;
			color: rgba(255, 255, 255, 0.7);
		}

		.empty-state-icon {
			font-size: 4rem;
			margin-bottom: 1rem;
		}

		/* Responsive adjustments */
		@media (max-width: 768px) {
			.stage-container {
				padding: 0.5rem;
			}

			.stage-header {
				flex-direction: column;
				gap: 0.5rem;
				text-align: center;
				min-height: auto;
			}

			.stage-pin-code {
				font-size: 1.5rem;
				min-width: 100px;
			}

			.info-item {
				font-size: 0.9rem;
			}

			.section-title {
				font-size: 1.5rem;
			}

			.top3-item {
				padding: 0.75rem 1rem;
				font-size: 1rem;
				min-height: 50px;
			}

			.top3-player-name {
				font-size: 1rem;
			}

			.top3-player-score {
				font-size: 1.1rem;
			}

			.player-position-message {
				font-size: 1rem;
				padding: 0.75rem;
			}

			.stage-footer {
				flex-direction: column;
				align-items: center;
				gap: 1rem;
			}
		}
	</style>
</head>

<body>
	<div class="stage-container">
		<div class="stage-header">
			<div class="stage-pin-display">
				<span class="stage-pin-code" id="gamePin">#------</span>
			</div>
			<div class="game-info">
				<!-- Game info removed - not needed for final results -->
			</div>
		</div>

		<div class="stage-content">
			<div class="results-section">
				<h2 class="section-title">üèÜ TOP 3</h2>
				
				<div id="top3Leaderboard" class="top3-leaderboard">
					<!-- TOP 3 items will be populated here -->
				</div>
				
				<div id="playerPositionMessage" class="player-position-message" style="display: none;">
					<!-- Player position message will be shown here -->
				</div>

				<div id="emptyState" class="empty-state" style="display: none;">
					<div class="empty-state-icon">üéÆ</div>
					<h3>≈Ωiadne v√Ωsledky</h3>
					<p>Hra sa e≈°te neskonƒçila alebo neexistuj√∫ ≈æiadni hr√°ƒçi.</p>
				</div>
			</div>
		</div>

		<div class="stage-footer">
			<button id="backToJoinBtn" class="action-button secondary-button">
				üè† Sp√§≈• na √∫vod
			</button>
		</div>
	</div>

	<!-- Message container for notifications -->
	<div id="messageBox"></div>

	<script src="/socket.io/socket.io.js"></script>
	<script type="module" src="/shared/connectionStatus.js"></script>
	<script type="module" src="/stage/stage.js"></script>
</body>

</html>